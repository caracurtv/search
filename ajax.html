<html>
<head>
<script>
var xmlHttp = createXmlHttpRequestObject();
// Функция создания объекта XMLHttpRequest
function createXmlHttpRequestObject()
{
  var xmlHttp;
  try
   {
    // Firefox, Opera 8.0+, Safari
    xmlHttp=new XMLHttpRequest();
   }
  catch (e)
   {
    // Internet Explorer
    try
     {
      xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
     }
  catch (e)
    {
     try
    {
     xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
  catch (e)
    {
     alert("Ваш браузер не поддерживает AJAX!");
     return false;
    }
   }
  }
   return xmlHttp;
  }
// Отправка асинхронного HTTP-запроса
function http_zapros(str)
{
   if (xmlHttp)
  {
   // Попытка отправки запроса серверу
   try
   {
     // Запрос файла request.txt с сервера
     xmlHttp.open("POST", "google.php?q="+str, true);
     xmlHttp.onreadystatechange = obrabotka;
     xmlHttp.send(null);
    }
    // Сообщение об ошибке в случае неудачи
    catch (e)
    {
     alert("Не удается соединиться с сервером");
    }
  }
}
// Функция обработки ответа сервера
function obrabotka()
{

// Только в этом состоянии ответа обрабатываем пришедшие данные
if (xmlHttp.readyState == 4)
 {
  // Данные читаем, только если статус - "OK"
 if (xmlHttp.status == 200)
  {
   try
   {
     // Чтение сообщения сервера
     response = xmlHttp.responseText;
     // Ищем место на странице, где будем писать ответ сервера
     myDiv = document.getElementById("otvet");
    // Отображение сообщения
    myDiv.innerHTML = response;
   }
 catch(e)
  {
    // Сообщение об ошибке
    alert("Ошибка при чтении ответа");
  }
}
  else
 {
   // Вывод сообщения о статусе ответа
   alert("Возникла проблема при получении данных с сервера:\n" +
   xmlHttp.statusText);
  }
 }
 else
 {
   myDiv = document.getElementById("otvet");
    // Отображение сообщения
    myDiv.innerHTML = "<b>Ждите...</b>";
 }
}


</script>

</head>

<body>
   Поиск: <input name="text" type="text" id="kod" value="" onkeyup="http_zapros(document.getElementById('kod').value)">
    <script>
     var elem = document.getElementById("kod");
     elem.focus();
    </script>

    <div id="otvet"></div>


</body>
</html>